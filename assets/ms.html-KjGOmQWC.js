import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as t,c as n,e as a}from"./app-BwsoMA_K.js";const l={},m=a('<h1 id="mysql主从复制" tabindex="-1"><a class="header-anchor" href="#mysql主从复制"><span>MySQL主从复制</span></a></h1><h2 id="基础逻辑" tabindex="-1"><a class="header-anchor" href="#基础逻辑"><span>基础逻辑</span></a></h2><p>所有的主从逻辑基本上都是把数据从<em>主服务器</em>同步到<em>从服务器</em>。</p><p>MySQL 也一样， <em>主库</em> 上数据变化会写入二进制文件，binlog，中，然后通过IO把 binlog 的内容写入<em>从库</em>的<strong>中继日志</strong>中，然后<em>从库</em>从<em>中继日志</em>中读取并执行其中的 SQL语句 完成同步。</p><p>主要涉及三个线程: binlog 线程、I/O 线程和 SQL 线程。</p><ul><li>binlog 线程</li></ul><p>负责将<em>主库</em>上的数据更改写入 binlog 中。</p><ul><li>I/O 线程</li></ul><p>负责从主服务器上读取 binlog，并写入<em>从库</em>的<em>中继日志</em>中。</p><ul><li>SQL 线程</li></ul><p>负责读取<em>中继日志</em>并重放其中的 SQL 语句。</p><h2 id="同步模式" tabindex="-1"><a class="header-anchor" href="#同步模式"><span>同步模式</span></a></h2><h3 id="全同步模式" tabindex="-1"><a class="header-anchor" href="#全同步模式"><span>全同步模式</span></a></h3><p><em>主库</em>在写入 binlog 之后直接开始强制同步到从库，一直要等到从库完成数据同步才会返回给客户端，性能较差，非常少见。</p><h3 id="半同步模式" tabindex="-1"><a class="header-anchor" href="#半同步模式"><span>半同步模式</span></a></h3><p>半同步跟全同步的区别是，在IO那一步<em>中继日志</em>写入完成就给<em>主库</em>发个确认消息，<em>主库</em> 只要收到任意一个<em>从库</em>（假设一主多从）返回的确认消息就认为本次写操作成功，返回给客户端。</p>',16),o=[m];function i(r,s){return t(),n("div",null,o)}const d=e(l,[["render",i],["__file","ms.html.vue"]]),h=JSON.parse('{"path":"/docs/database/mysql/ms.html","title":"MySQL主从复制","lang":"zh-CN","frontmatter":{"title":"MySQL主从复制","description":"MySQL主从复制 基础逻辑 所有的主从逻辑基本上都是把数据从主服务器同步到从服务器。 MySQL 也一样， 主库 上数据变化会写入二进制文件，binlog，中，然后通过IO把 binlog 的内容写入从库的中继日志中，然后从库从中继日志中读取并执行其中的 SQL语句 完成同步。 主要涉及三个线程: binlog 线程、I/O 线程和 SQL 线程。 ...","head":[["meta",{"property":"og:url","content":"https://lament-z.com/docs/database/mysql/ms.html"}],["meta",{"property":"og:site_name","content":"鲸鱼气球"}],["meta",{"property":"og:title","content":"MySQL主从复制"}],["meta",{"property":"og:description","content":"MySQL主从复制 基础逻辑 所有的主从逻辑基本上都是把数据从主服务器同步到从服务器。 MySQL 也一样， 主库 上数据变化会写入二进制文件，binlog，中，然后通过IO把 binlog 的内容写入从库的中继日志中，然后从库从中继日志中读取并执行其中的 SQL语句 完成同步。 主要涉及三个线程: binlog 线程、I/O 线程和 SQL 线程。 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-14T09:45:06.000Z"}],["meta",{"property":"article:author","content":"lament-z"}],["meta",{"property":"article:modified_time","content":"2024-02-14T09:45:06.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MySQL主从复制\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-02-14T09:45:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"lament-z\\",\\"url\\":\\"https://lament-z.com\\"}]}"]]},"headers":[{"level":2,"title":"基础逻辑","slug":"基础逻辑","link":"#基础逻辑","children":[]},{"level":2,"title":"同步模式","slug":"同步模式","link":"#同步模式","children":[{"level":3,"title":"全同步模式","slug":"全同步模式","link":"#全同步模式","children":[]},{"level":3,"title":"半同步模式","slug":"半同步模式","link":"#半同步模式","children":[]}]}],"git":{"createdTime":1707903906000,"updatedTime":1707903906000,"contributors":[{"name":"Lament","email":"lament.wy@gmail.com","commits":1}]},"readingTime":{"minutes":1.09,"words":326},"filePathRelative":"docs/database/mysql/ms.md","localizedDate":"2024年2月14日","autoDesc":true,"excerpt":"\\n<h2>基础逻辑</h2>\\n<p>所有的主从逻辑基本上都是把数据从<em>主服务器</em>同步到<em>从服务器</em>。</p>\\n<p>MySQL 也一样， <em>主库</em> 上数据变化会写入二进制文件，binlog，中，然后通过IO把 binlog 的内容写入<em>从库</em>的<strong>中继日志</strong>中，然后<em>从库</em>从<em>中继日志</em>中读取并执行其中的 SQL语句 完成同步。</p>\\n<p>主要涉及三个线程: binlog 线程、I/O 线程和 SQL 线程。</p>\\n<ul>\\n<li>binlog 线程</li>\\n</ul>\\n<p>负责将<em>主库</em>上的数据更改写入 binlog 中。</p>"}');export{d as comp,h as data};
