import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as i,c as p,a as e,b as n,d as s,e as t}from"./app-CfdduGO6.js";const d="/whale2.png",r={},c=t(`<h1 id="本站调试记录" tabindex="-1"><a class="header-anchor" href="#本站调试记录"><span>本站调试记录</span></a></h1><p>包括 vuepress 以及主题 vuepress-theme-hope 学习和调试的记录。</p><h2 id="白嫖小马哥" tabindex="-1"><a class="header-anchor" href="#白嫖小马哥"><span>白嫖小马哥</span></a></h2><ol><li><p>logo &amp; favicon<br> 一个 svg，一个 ico。</p></li><li><p>主页的背景</p><p>svg 格式背景图，一张图需要两种风格对应白/黑模式，a1-light/a1-dark。 先嫖个10对吧。</p></li></ol><h2 id="update-log" tabindex="-1"><a class="header-anchor" href="#update-log"><span>update log</span></a></h2><ul><li><p>关缓存！！！</p><p>前后重新发布了 n 次也没找到线上显示错误的原因，思前想后才记起怕不是 CL 的缓存没关...</p><p>现在不用手动清缓存了，可以直接开启开发者模式禁用缓存。</p></li><li><p>build 失败</p><p>本地运行没问题，执行 build 就报一个 <code>SyntaxError: The requested module &#39;vue-router&#39; does not provide an export named &#39;createMemoryHistory&#39;</code>的错误。</p><p>由于完全不懂 node，一堆折腾之后，最后通过手动添加依赖解决了。</p><p><code>pnpm add -D vue-router</code>。</p></li><li><p>github action</p><p>权限错误检查两个位置，一个是仓库本身关于 action 的权限，另一个检查你生成的 PAT 权限是不是不够。</p></li><li><p>警告</p></li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Node.js 16 actions are deprecated. Please update the following actions to use Node.js 20: pnpm/action-setup@v2, actions/setup-node@v3. For more information see: https://github.blog/changelog/2023-09-22-github-actions-transitioning-from-node-16-to-node-20/.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>看见这个就去升级一下对应 action 的版本，不知道具体版本可以直接 github 搜索。</p><p>比如 <code>pnpm/action-setup@v2</code> 就直接搜 <code>pnpm/action-setup</code>，其他细节参考警告中给的链接。</p><h2 id="部署" tabindex="-1"><a class="header-anchor" href="#部署"><span>部署</span></a></h2>`,10),u={href:"https://vuepress.vuejs.org/zh/guide/deploy.html#github-pages",target:"_blank",rel:"noopener noreferrer"},m=t(`<p>源码库 + 部署库的方式自动部署的几个需要注意的地方。</p><p>PAT 权限要够，PAT 要添加到源码库的 Secrets 中。</p><h2 id="vuepress" tabindex="-1"><a class="header-anchor" href="#vuepress"><span>vuepress</span></a></h2><ul><li><p>目录有约定，但并不强制</p></li><li><p>0开发经验上手略有门槛</p><p>有开发经验的体验尚可，有前端经验很好，有 nodejs/vue 经验的话你可以干很多事情。</p></li><li><p>导航的 link 与 <code>readme.md</code> 文件绑定<br><code>/readme.md</code> 等同于 <code>/</code>，导航 <code>link: &#39;/xDir/</code> 意味着 <code>/xDir/</code> 目录下必须有 <code>readme.md</code>文件，否则你点击导航会 404.</p></li><li><p>依赖问题导致无法 build | build 失败</p><p>根据我解决问题过程中搜索到的内容来看，依赖问题已经多次导致用户的 vuepress 项目无法正常 build。<br> 对于对 node 依赖管理完全不了解的用户其实这是很难自行解决。</p><p>先添加这个：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>yarn add cross-env --dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后编辑 <code>package.json</code> 中的脚本部分:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code> #package.json:
 &quot;scripts&quot;: {
 &quot;dev&quot;: &quot;cross-env NODE_OPTIONS=--openssl-legacy-provider vuepress dev src&quot;,
 &quot;build&quot;: &quot;cross-env NODE_OPTIONS=--openssl-legacy-provider vuepress build src&quot;
 }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者直接换 pnpm，反正不懂 node，用 yarn 还是用 pnpm 都没啥区别，但是 VuePress 和 VuePress-theme-hope 都是用 pnpm 进行管理的。</p></li></ul><h2 id="插件" tabindex="-1"><a class="header-anchor" href="#插件"><span>插件</span></a></h2>`,5),h={href:"https://z3by.github.io/vuepress-tools/plugins/vuepress-plugin-autonav/",target:"_blank",rel:"noopener noreferrer"},v=t('<p>使用方式通用流程：1. 安装插件 2.在<code>.vuepress/config.js</code>中添加插件并配置。</p><p><code>@vuepress/</code>开头的都是官方维护的插件，同时使用前注意插件支持哪个 VuePress 的版本（0.x 1.x 2）。</p><ul><li><p><code>@vuepress/plugin-back-to-top</code>回到最上。</p><p>官方没写说明也没写配置，扫了一眼代码，似乎是300行以上触发。</p><p>拖了个以前写的 rocketMQ 分析源码的笔记测试了一下，右下角会自动出现一个向上的箭头。</p></li><li><p><code>@vuepress/plugin-medium-zoom</code>图片缩放</p><p>点点看</p><figure><img src="'+d+'" alt="whale balloon" tabindex="0" loading="lazy"><figcaption>whale balloon</figcaption></figure></li></ul><h2 id="主题" tabindex="-1"><a class="header-anchor" href="#主题"><span>主题</span></a></h2>',4),g={href:"https://theme-hope.vuejs.press/zh/get-started/",target:"_blank",rel:"noopener noreferrer"},b=t(`<h3 id="命令" tabindex="-1"><a class="header-anchor" href="#命令"><span>命令</span></a></h3><ul><li>创建</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>pnpm create vuepress-theme-hope my-docs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>// 启动开发服务器
pnpm docs:dev
// 构建项目并输出
pnpm docs:build
// 清除缓存并启动开发服务器
pnpm docs:clean-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="样式相关" tabindex="-1"><a class="header-anchor" href="#样式相关"><span>样式相关</span></a></h3><p>基本围绕着 <code>src/.vuepress/styles</code> 目录下的三个文件进行自定义。</p>`,7),x=t(`<p>主题颜色覆盖<br><code>src/.vuepress/styles/palette.scss</code>文件中进行修改。</p><p>其中 <code>$theme-color: #82a6b1;</code> 主题颜色影响各种高亮位置。<br> 明暗切换如下:</p><div class="language-scss line-numbers-mode" data-ext="scss" data-title="scss"><pre class="language-scss"><code><span class="token property"><span class="token variable">$bg-color</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>
<span class="token property">light</span><span class="token punctuation">:</span> #ffeaec<span class="token punctuation">,</span>
<span class="token property">dark</span><span class="token punctuation">:</span> #343f3e<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),_={href:"https://theme-hope.vuejs.press/zh/config/style.html#%E9%A2%9C%E8%89%B2%E8%AE%BE%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"},f=e("li",null,[e("p",null,"隐藏打印按钮"),e("p",null,[e("code",null,"src/.vuepress/theme.ts"),n("中添加 "),e("code",null,"print:false,")])],-1),k=t('<h3 id="功能" tabindex="-1"><a class="header-anchor" href="#功能"><span>功能</span></a></h3><ul><li><p>自动创建<code>readme.md</code></p><p>目录下没有<code>readme.md</code>时，会自动生成一个目录页面，该页面标题就是目录本身，外带自动驼峰。</p><p>比如 <code>mq/rocketmq/</code>下没有手动创建<code>readme.md</code>时，它自动生成一个标题为 <code>Rocketmq</code>的目录页面。 如果是 <code>rocket-mq/</code>，则生成 <code>RocketMq</code> 作为标题。</p></li></ul>',2);function y(q,z){const a=l("ExternalLinkIcon");return i(),p("div",null,[c,e("p",null,[n("官方文档里就有，还挺全的，白写了，看"),e("a",u,[n("这里"),s(a)]),n("。")]),m,e("p",null,[n("找插件/主题推荐使用"),e("a",h,[n("vuepress-tools"),s(a)]),n(";")]),v,e("p",null,[e("a",g,[n("Hope"),s(a)]),n(" 主题自带创建项目的脚手架，创建出的项目还自带文档，你可以在另外一个端口额外启动一个当说明书看。")]),b,e("ul",null,[e("li",null,[x,e("p",null,[n("其他更多可以参考该主题的说明文档-"),e("a",_,[n("样式配置"),s(a)]),n("部分，从颜色调整到布局设置啥的很全。")])]),f]),k])}const N=o(r,[["render",y],["__file","debug-log.html.vue"]]),P=JSON.parse(`{"path":"/blog/debug-log.html","title":"本站调试记录","lang":"zh-CN","frontmatter":{"description":"本站调试记录 包括 vuepress 以及主题 vuepress-theme-hope 学习和调试的记录。 白嫖小马哥 logo & favicon 一个 svg，一个 ico。 主页的背景 svg 格式背景图，一张图需要两种风格对应白/黑模式，a1-light/a1-dark。 先嫖个10对吧。 update log 关缓存！！！ 前后重新发布了 n...","head":[["meta",{"property":"og:url","content":"https://lament-z.com/blog/debug-log.html"}],["meta",{"property":"og:site_name","content":"鲸鱼气球"}],["meta",{"property":"og:title","content":"本站调试记录"}],["meta",{"property":"og:description","content":"本站调试记录 包括 vuepress 以及主题 vuepress-theme-hope 学习和调试的记录。 白嫖小马哥 logo & favicon 一个 svg，一个 ico。 主页的背景 svg 格式背景图，一张图需要两种风格对应白/黑模式，a1-light/a1-dark。 先嫖个10对吧。 update log 关缓存！！！ 前后重新发布了 n..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://lament-z.com/whale2.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-15T14:52:18.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"本站调试记录"}],["meta",{"property":"article:author","content":"lament-z"}],["meta",{"property":"article:modified_time","content":"2024-02-15T14:52:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"本站调试记录\\",\\"image\\":[\\"https://lament-z.com/whale2.png\\"],\\"dateModified\\":\\"2024-02-15T14:52:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"lament-z\\",\\"url\\":\\"https://lament-z.com\\"}]}"]]},"headers":[{"level":2,"title":"白嫖小马哥","slug":"白嫖小马哥","link":"#白嫖小马哥","children":[]},{"level":2,"title":"update log","slug":"update-log","link":"#update-log","children":[]},{"level":2,"title":"部署","slug":"部署","link":"#部署","children":[]},{"level":2,"title":"vuepress","slug":"vuepress","link":"#vuepress","children":[]},{"level":2,"title":"插件","slug":"插件","link":"#插件","children":[]},{"level":2,"title":"主题","slug":"主题","link":"#主题","children":[{"level":3,"title":"命令","slug":"命令","link":"#命令","children":[]},{"level":3,"title":"样式相关","slug":"样式相关","link":"#样式相关","children":[]},{"level":3,"title":"功能","slug":"功能","link":"#功能","children":[]}]}],"git":{"createdTime":1707897724000,"updatedTime":1708008738000,"contributors":[{"name":"Lament","email":"lament.wy@gmail.com","commits":4}]},"readingTime":{"minutes":3.76,"words":1128},"filePathRelative":"blog/debug-log.md","localizedDate":"2024年2月14日","autoDesc":true,"excerpt":"\\n<p>包括 vuepress 以及主题 vuepress-theme-hope 学习和调试的记录。</p>\\n<h2>白嫖小马哥</h2>\\n<ol>\\n<li>\\n<p>logo &amp; favicon<br>\\n一个 svg，一个 ico。</p>\\n</li>\\n<li>\\n<p>主页的背景</p>\\n<p>svg 格式背景图，一张图需要两种风格对应白/黑模式，a1-light/a1-dark。\\n先嫖个10对吧。</p>\\n</li>\\n</ol>\\n<h2>update log</h2>\\n<ul>\\n<li>\\n<p>关缓存！！！</p>\\n<p>前后重新发布了 n 次也没找到线上显示错误的原因，思前想后才记起怕不是 CL 的缓存没关...</p>\\n<p>现在不用手动清缓存了，可以直接开启开发者模式禁用缓存。</p>\\n</li>\\n<li>\\n<p>build 失败</p>\\n<p>本地运行没问题，执行 build 就报一个 <code>SyntaxError: The requested module 'vue-router' does not provide an export named 'createMemoryHistory'</code>的错误。</p>\\n<p>由于完全不懂 node，一堆折腾之后，最后通过手动添加依赖解决了。</p>\\n<p><code>pnpm add -D vue-router</code>。</p>\\n</li>\\n<li>\\n<p>github action</p>\\n<p>权限错误检查两个位置，一个是仓库本身关于 action 的权限，另一个检查你生成的 PAT 权限是不是不够。</p>\\n</li>\\n<li>\\n<p>警告</p>\\n</li>\\n</ul>"}`);export{N as comp,P as data};
